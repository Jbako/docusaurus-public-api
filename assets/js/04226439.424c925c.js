"use strict";(self.webpackChunkdocusaurus_public_api=self.webpackChunkdocusaurus_public_api||[]).push([[1774],{3905:(e,t,n)=>{n.d(t,{Zo:()=>m,kt:()=>c});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=a.createContext({}),d=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},m=function(e){var t=d(e.components);return a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,l=e.originalType,s=e.parentName,m=i(e,["components","mdxType","originalType","parentName"]),p=d(n),c=o,k=p["".concat(s,".").concat(c)]||p[c]||u[c]||l;return n?a.createElement(k,r(r({ref:t},m),{},{components:n})):a.createElement(k,r({ref:t},m))}));function c(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var l=n.length,r=new Array(l);r[0]=p;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:o,r[1]=i;for(var d=2;d<l;d++)r[d]=n[d];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},935:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>r,default:()=>u,frontMatter:()=>l,metadata:()=>i,toc:()=>d});var a=n(7462),o=(n(7294),n(3905));const l={sidebar_position:3,title:"Documentos",description:"Crear, editar y listar documentos",slug:"/documentos"},r="Documentos",i={unversionedId:"Documentos/Documentos",id:"Documentos/Documentos",title:"Documentos",description:"Crear, editar y listar documentos",source:"@site/docs/Documentos/Documentos.md",sourceDirName:"Documentos",slug:"/documentos",permalink:"/docusaurus-public-api/documentos",draft:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,title:"Documentos",description:"Crear, editar y listar documentos",slug:"/documentos"},sidebar:"tutorialSidebar",previous:{title:"Primeros pasos",permalink:"/docusaurus-public-api/primeros-pasos"},next:{title:"Despachos",permalink:"/docusaurus-public-api/documentos/despachos"}},s={},d=[{value:"Estructura JSON",id:"estructura-json",level:2},{value:"Atributos",id:"atributos",level:3},{value:"GET lista de documentos",id:"get-lista-de-documentos",level:2},{value:"Par\xe1metros",id:"par\xe1metros",level:4},{value:"Ejemplos",id:"ejemplos",level:4},{value:"GET \xfanico documento",id:"get-\xfanico-documento",level:2},{value:"Par\xe1metros",id:"par\xe1metros-1",level:4},{value:"Ejemplos",id:"ejemplos-1",level:4},{value:"Res\xfamenes",id:"res\xfamenes",level:2},{value:"GET resumen de documentos emitidos",id:"get-resumen-de-documentos-emitidos",level:3},{value:"Par\xe1metros",id:"par\xe1metros-2",level:4},{value:"Ejemplos",id:"ejemplos-2",level:4},{value:"GET resumen de ventas Boletas electr\xf3nicas",id:"get-resumen-de-ventas-boletas-electr\xf3nicas",level:3},{value:"Par\xe1metros",id:"par\xe1metros-3",level:4},{value:"Ejemplos",id:"ejemplos-3",level:4},{value:"GET cantidad de documentos",id:"get-cantidad-de-documentos",level:3},{value:"Par\xe1metros",id:"par\xe1metros-4",level:4},{value:"Ejemplos",id:"ejemplos-4",level:4},{value:"GET costos de una venta",id:"get-costos-de-una-venta",level:3},{value:"Par\xe1metros",id:"par\xe1metros-5",level:4},{value:"Ejemplos",id:"ejemplos-5",level:4},{value:"Detalles",id:"detalles",level:2},{value:"GET detalles de un documento",id:"get-detalles-de-un-documento",level:3},{value:"GET un detalle de un documento",id:"get-un-detalle-de-un-documento",level:3},{value:"Relaciones",id:"relaciones",level:2},{value:"GET referencias de un documento",id:"get-referencias-de-un-documento",level:3},{value:"GET una referencia de un documento",id:"get-una-referencia-de-un-documento",level:3},{value:"GET impuestos de un documento",id:"get-impuestos-de-un-documento",level:3},{value:"GET un impuesto de un documento",id:"get-un-impuesto-de-un-documento",level:3},{value:"GET vendedores de un documento",id:"get-vendedores-de-un-documento",level:3},{value:"GET atributos dinamicos de un documento",id:"get-atributos-dinamicos-de-un-documento",level:3},{value:"POST un documento",id:"post-un-documento",level:2},{value:"Referencias y fechas",id:"referencias-y-fechas",level:3},{value:"Vendedor",id:"vendedor",level:3},{value:"Descuento stock",id:"descuento-stock",level:3},{value:"Renovaciones en nota de venta",id:"renovaciones-en-nota-de-venta",level:3},{value:"Cliente del documento",id:"cliente-del-documento",level:3},{value:"Cliente",id:"cliente",level:4},{value:"Cliente extranjero",id:"cliente-extranjero",level:4},{value:"Detalles",id:"detalles-1",level:3},{value:"Con control de stock",id:"con-control-de-stock",level:4},{value:"Sin control de stock",id:"sin-control-de-stock",level:4},{value:"Impuestos",id:"impuestos",level:3},{value:"Referencia por id",id:"referencia-por-id",level:4},{value:"Referencia por c\xf3digo tributario",id:"referencia-por-c\xf3digo-tributario",level:4},{value:"A partir de existente",id:"a-partir-de-existente",level:3},{value:"Forma de pago (opcional)",id:"forma-de-pago-opcional",level:3},{value:"Referencias electr\xf3nicas (opcional)",id:"referencias-electr\xf3nicas-opcional",level:3},{value:"Atributos din\xe1micos (opcional)",id:"atributos-din\xe1micos-opcional",level:3},{value:"Id externo (opcional)",id:"id-externo-opcional",level:3},{value:"Ejemplo JSON",id:"ejemplo-json",level:3},{value:"Env\xedo",id:"env\xedo",level:4},{value:"Respuesta",id:"respuesta",level:4},{value:"DELETE un documento",id:"delete-un-documento",level:2}],m={toc:d};function u(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"documentos"},"Documentos"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Crear documentos del tipo venta")," (Boleta, Factura electr\xf3nica, etc) o ",(0,o.kt)("strong",{parentName:"p"},"documentos asociados al proceso de venta")," (notas de venta, cotizaciones, etc). "),(0,o.kt)("p",null,"Listar documentos generados en Bsale, del tipo venta, pre-venta, despachos, etc. Se puede obtener detalles, referencias, datos generales, etc. "),(0,o.kt)("p",null,"C\xf3mo funciona la interfaz de Bsale, mira \xe9stos videos:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Creaci\xf3n de factura ",(0,o.kt)("a",{parentName:"li",href:"https://www.youtube.com/watch?v=oHOyQud9Vq4"},"Ver")," "),(0,o.kt)("li",{parentName:"ul"},"Creaci\xf3n de boleta ",(0,o.kt)("a",{parentName:"li",href:"https://www.youtube.com/watch?v=UfxkD3EkrXc"},"Ver")),(0,o.kt)("li",{parentName:"ul"},"Creaci\xf3n de pre-venta ",(0,o.kt)("a",{parentName:"li",href:"https://www.youtube.com/watch?v=pqaaaI25EKo"},"Ver"))),(0,o.kt)("h2",{id:"estructura-json"},"Estructura JSON"),(0,o.kt)("p",null,"Al realizar una petici\xf3n ",(0,o.kt)("inlineCode",{parentName:"p"},"HTTP"),", el servicio retornara un JSON con la siguiente estructura:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="Response /documents.json"',title:'"Response','/documents.json"':!0},'{\n  "href": "https://api.bsale.cl/v1/documents/382.json",\n  "id": 382,\n  "emissionDate": 1463540400,\n  "expirationDate": 1464663600,\n  "generationDate": 1463593575,\n  "rcofDate": 1464663600,\n  "number": 1,\n  "totalAmount": 14280,\n  "netAmount": 12000,\n  "taxAmount": 2280,\n  "exemptAmount": 0,\n  "exportTotalAmount": 0,\n  "exportNetAmount": 0,\n  "exportTaxAmount": 0,\n  "exportExemptAmount": 0,\n  "commissionRate": 0,\n  "commissionNetAmount": 0,\n  "commissionTaxAmount": 0,\n  "commissionTotalAmount": 0,\n  "percentageTaxWithheld": 0,\n  "purchaseTaxAmount": 0,\n  "purchaseTotalAmount": 0,\n  "urlTimbre": null,\n  "ted": null,\n  "urlPublicView": "http://app2.bsale.cl/view/2/a2d9b4da5128?sfd=99",\n  "urlPdf": "http://app2.bsale.cl/view/2/a2d9b4da5128.pdf?sfd=99",\n  "urlPublicViewOriginal": "http://app2.bsale.cl/view/2/a2d9b4da5128",\n  "urlPdfOriginal": "http://app2.bsale.cl/view/2/a2d9b4da5128.pdf",\n  "token": "a2d9b4da5128",\n  "state": 0,\n  "userId": 2,\n  "urlXml": null,\n  "address": null,\n  "municipality": null,\n  "city": null,\n  "informedSii": 1,\n  "responseMsgSii": null,\n  "document_type": {\n    "href": "https://api.bsale.cl/v1/document_types/1.json",\n    "id": "1"\n  },\n  "client": {\n    "href": "https://api.bsale.cl/v1/clients/7.json",\n    "id": "7"\n  },\n  "office": {\n    "href": "https://api.bsale.cl/v1/offices/2.json",\n    "id": "2"\n  },\n  "user": {\n    "href": "https://api.bsale.cl/v1/users/2.json",\n    "id": "2"\n  },\n  "references": {\n    "href": "https://api.bsale.cl/v1/documents/382/references.json"\n  },\n  "document_taxes": {\n    "href": "https://api.bsale.cl/v1/documents/382/document_taxes.json"\n  },\n  "details": {\n    "href": "https://api.bsale.cl/v1/documents/382/details.json"\n  },\n  "sellers": {\n    "href": "https://api.bsale.cl/v1/documents/382/sellers.json"\n  }\n}\n')),(0,o.kt)("h3",{id:"atributos"},"Atributos"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"Atributo"),(0,o.kt)("th",{parentName:"tr",align:null},"Descripci\xf3n"),(0,o.kt)("th",{parentName:"tr",align:null},"Tipo dato"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"href")),(0,o.kt)("td",{parentName:"tr",align:null},"url del documento"),(0,o.kt)("td",{parentName:"tr",align:null},"String")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"emissionDate")),(0,o.kt)("td",{parentName:"tr",align:null},"fecha de emisi\xf3n del documento (Integer) (no se debe aplicar zona horaria, solo considerar la fecha)."),(0,o.kt)("td",{parentName:"tr",align:null},"Integer")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"expirationDate")),(0,o.kt)("td",{parentName:"tr",align:null},"fecha de vencimiento del documento (Integer) (no se debe aplicar zona horaria, solo considerar la fecha)"),(0,o.kt)("td",{parentName:"tr",align:null},"Integer")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"generationDate")),(0,o.kt)("td",{parentName:"tr",align:null},"fecha y hora en que se genero el documento"),(0,o.kt)("td",{parentName:"tr",align:null},"Integer")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"rcofDate")),(0,o.kt)("td",{parentName:"tr",align:null},"fecha de env\xedo RCOF"),(0,o.kt)("td",{parentName:"tr",align:null},"Integer")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"number")),(0,o.kt)("td",{parentName:"tr",align:null},"folio del documento"),(0,o.kt)("td",{parentName:"tr",align:null},"Integer")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"totalAmount")),(0,o.kt)("td",{parentName:"tr",align:null},"monto total del documento"),(0,o.kt)("td",{parentName:"tr",align:null},"Float")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"netAmount")),(0,o.kt)("td",{parentName:"tr",align:null},"monto neto del documento"),(0,o.kt)("td",{parentName:"tr",align:null},"Float")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"taxAmount")),(0,o.kt)("td",{parentName:"tr",align:null},"monto de impuestos del documento"),(0,o.kt)("td",{parentName:"tr",align:null},"Float")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"exemptAmount")),(0,o.kt)("td",{parentName:"tr",align:null},"monto exento del documento"),(0,o.kt)("td",{parentName:"tr",align:null},"Float")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"exportTotalAmount")),(0,o.kt)("td",{parentName:"tr",align:null},"monto total del documento de exportaci\xf3n"),(0,o.kt)("td",{parentName:"tr",align:null},"Float")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"exportNetAmount")),(0,o.kt)("td",{parentName:"tr",align:null},"monto neto del documento de exportaci\xf3n"),(0,o.kt)("td",{parentName:"tr",align:null},"Float")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"exportTaxAmount")),(0,o.kt)("td",{parentName:"tr",align:null},"monto de impuestos del documento de exportaci\xf3n"),(0,o.kt)("td",{parentName:"tr",align:null},"Float")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"exportExemptAmount")),(0,o.kt)("td",{parentName:"tr",align:null},"porcentaje de la comisi\xf3n en la liquidaci\xf3n del documento"),(0,o.kt)("td",{parentName:"tr",align:null},"Float")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"commissionRate")),(0,o.kt)("td",{parentName:"tr",align:null},"porcentaje de la comisi\xf3n en la liquidaci\xf3n del documento"),(0,o.kt)("td",{parentName:"tr",align:null},"Float")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"commissionNetAmount")),(0,o.kt)("td",{parentName:"tr",align:null},"monto neto de la comisi\xf3n en la liquidaci\xf3n del documento"),(0,o.kt)("td",{parentName:"tr",align:null},"Float")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"commissionTaxAmount")),(0,o.kt)("td",{parentName:"tr",align:null},"monto de impuesto de la comisi\xf3n en la liquidaci\xf3n del documento"),(0,o.kt)("td",{parentName:"tr",align:null},"Float")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"commissionTotalAmount")),(0,o.kt)("td",{parentName:"tr",align:null},"monto total de la comisi\xf3n en la liquidaci\xf3n del documento"),(0,o.kt)("td",{parentName:"tr",align:null},"Float")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"percentageTaxWithheld")),(0,o.kt)("td",{parentName:"tr",align:null},"porcentaje de impuesto retenido para los documentos de compra"),(0,o.kt)("td",{parentName:"tr",align:null},"Float")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"purchaseTaxAmount")),(0,o.kt)("td",{parentName:"tr",align:null},"monto de impuesto retenido para los documentos de compra"),(0,o.kt)("td",{parentName:"tr",align:null},"Float")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"purchaseTotalAmount")),(0,o.kt)("td",{parentName:"tr",align:null},"monto total del documento de compra"),(0,o.kt)("td",{parentName:"tr",align:null},"Float")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"ted")),(0,o.kt)("td",{parentName:"tr",align:null},"ted del documento en caso de ser electr\xf3nico."),(0,o.kt)("td",{parentName:"tr",align:null},"Text")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"urlTimbre")),(0,o.kt)("td",{parentName:"tr",align:null},"url de la firma de un documento"),(0,o.kt)("td",{parentName:"tr",align:null},"Text")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"urlPublicView")),(0,o.kt)("td",{parentName:"tr",align:null},"url publica para visualizar el documento, con todas sus copias"),(0,o.kt)("td",{parentName:"tr",align:null},"Text")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"urlPdf")),(0,o.kt)("td",{parentName:"tr",align:null},"url del pdf del documento, con todas sus copias"),(0,o.kt)("td",{parentName:"tr",align:null},"Text")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"urlPublicViewOriginal")),(0,o.kt)("td",{parentName:"tr",align:null},"url publica para visualizar el documento, solo muestra el original"),(0,o.kt)("td",{parentName:"tr",align:null},"Text")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"urlPdfOriginal")),(0,o.kt)("td",{parentName:"tr",align:null},"url del pdf del documento, solo muestra el original"),(0,o.kt)("td",{parentName:"tr",align:null},"Text")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"token")),(0,o.kt)("td",{parentName:"tr",align:null},"token \xfanico del documento"),(0,o.kt)("td",{parentName:"tr",align:null},"String")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"state")),(0,o.kt)("td",{parentName:"tr",align:null},"estado del documento indica si el documento esta activo(0) o inactivo (1)"),(0,o.kt)("td",{parentName:"tr",align:null},"Boolean")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"urlXml")),(0,o.kt)("td",{parentName:"tr",align:null},"respaldo del documento electr\xf3nico"),(0,o.kt)("td",{parentName:"tr",align:null},"String")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"address")),(0,o.kt)("td",{parentName:"tr",align:null},"direcci\xf3n del documento"),(0,o.kt)("td",{parentName:"tr",align:null},"String")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"municipality")),(0,o.kt)("td",{parentName:"tr",align:null},"comuna del documento"),(0,o.kt)("td",{parentName:"tr",align:null},"String")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"city")),(0,o.kt)("td",{parentName:"tr",align:null},"ciudad del documento"),(0,o.kt)("td",{parentName:"tr",align:null},"String")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"informedSii")),(0,o.kt)("td",{parentName:"tr",align:null},"indica si el documento fue informado al SII, 0 es correcto, 1 es enviado, 2 es rechazado"),(0,o.kt)("td",{parentName:"tr",align:null},"Integer")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"responseMsgSii")),(0,o.kt)("td",{parentName:"tr",align:null},"respuesta de la declaraci\xf3n del documento al SII en caso de ser electr\xf3nico"),(0,o.kt)("td",{parentName:"tr",align:null},"String")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"document_type")),(0,o.kt)("td",{parentName:"tr",align:null},"nodo que indica el tipo del documento al cual pertenece el documento."),(0,o.kt)("td",{parentName:"tr",align:null},"Text")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"client")),(0,o.kt)("td",{parentName:"tr",align:null},"nodo que indica el cliente al cual se le emiti\xf3 el documento."),(0,o.kt)("td",{parentName:"tr",align:null},"Text")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"office")),(0,o.kt)("td",{parentName:"tr",align:null},"nodo que indica la sucursal a la cual pertenece el documento."),(0,o.kt)("td",{parentName:"tr",align:null},"Text")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"user")),(0,o.kt)("td",{parentName:"tr",align:null},"nodo que indica el usuario que emiti\xf3 el documento."),(0,o.kt)("td",{parentName:"tr",align:null},"Text")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"references")),(0,o.kt)("td",{parentName:"tr",align:null},"nodo que indica las referencias de un documento."),(0,o.kt)("td",{parentName:"tr",align:null},"Text")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"document_taxes")),(0,o.kt)("td",{parentName:"tr",align:null},"nodo que indica el detalle de impuesto de un documento."),(0,o.kt)("td",{parentName:"tr",align:null},"Text")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"details")),(0,o.kt)("td",{parentName:"tr",align:null},"nodo que indica los detalles de un documento."),(0,o.kt)("td",{parentName:"tr",align:null},"Text")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"relatedDetailId")),(0,o.kt)("td",{parentName:"tr",align:null},"id detalle relacionado al documento."),(0,o.kt)("td",{parentName:"tr",align:null},"Text")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"sellers")),(0,o.kt)("td",{parentName:"tr",align:null},"nodo que indica los vendedores de un documento, pueden ser mas de 1 por ejemplo al emitir un documento a partir de varias notas de venta."),(0,o.kt)("td",{parentName:"tr",align:null},"Text")))),(0,o.kt)("h2",{id:"get-lista-de-documentos"},"GET lista de documentos"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"GET ",(0,o.kt)("inlineCode",{parentName:"li"},"/v1/documents.json")," retorna todos los documentos.")),(0,o.kt)("h4",{id:"par\xe1metros"},"Par\xe1metros"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"limit"),", limita la cantidad de items de una respuesta JSON, por defecto el limit es 25, el m\xe1ximo permitido es 50."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"offset"),", permite paginar los items de una respuesta JSON, por defecto el offset es 0."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"fields"),", solo devolver atributos espec\xedficos de un recurso"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"expand"),", permite expandir instancias y colecciones para traer relaciones en una sola petici\xf3n."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"emissiondate"),", filtra documentos por la fecha de emisi\xf3n."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"expirationdate"),", filtra documentos por la fecha de vencimiento."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"emissiondaterange"),", filtra documentos por un rango de fecha."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"number"),", filtra documentos por el folio."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"token"),", filtra documentos por el token."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"documenttypeid"),", filtra documentos por el tipo de documento."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"clientid"),", filtra documentos por el cliente."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"clientcode"),", filtra rut del cliente."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"officeid"),", filtra documentos por la sucursal."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"saleconditionid"),", filtra documentos por la condici\xf3n de venta."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"informedsii"),", filtra documentos si fue declarado en el SII, 0 es correcto, 1 es enviado, 2 es rechazado (Integer)."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"codesii"),", filtra documentos por el c\xf3digo tributario."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"totalamount"),", filtra documentos por el monto total."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"referencecode"),", filtra documentos por el c\xf3digo tributario de una referencia (ej. el c\xf3digo de una orden de compra)."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"referencenumber"),", filtra documentos por el folio de una referencia (ej. el folio de una orden de compra)."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"state"),", boolean (0 o 1) indica si los documentos est\xe1n activos(0) inactivos (1).")),(0,o.kt)("h4",{id:"ejemplos"},"Ejemplos"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"GET /v1/documents.json?limit=50&offset=0")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"GET /v1/documents.json?fields=[number,totalAmount]")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"GET /v1/documents.json?number=53")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"GET /v1/documents.json?documenttypeid=1")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"GET /v1/documents.json?informedsii=0")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"GET /v1/documents.json?expand=[document_types,client,office,details,payments]")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"GET /v1/documents.json?emissiondate=1309478400&-expirationdate=1309478400&state=0")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"GET /v1/documents.json?emissiondaterange=[1414800000,1417391990]")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"GET /v1/documents.json?codesii=33&totalamount=14280")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"GET /v1/documents.json?referencecode=801")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"GET /v1/documents.json?referencenumber=123")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"GET /v1/documents.json?referencecode=801&referencenumber=123")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"GET /v1/documents.json?rcofdate=1629244800")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"GET /v1/documents.json?detailid=5350")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"GET /v1/documents.json?expand=details,payments"),"  ")),(0,o.kt)("h2",{id:"get-\xfanico-documento"},"GET \xfanico documento"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"GET ",(0,o.kt)("inlineCode",{parentName:"li"},"/v1/documents/421.json")," retorna un \xfanico documento.")),(0,o.kt)("h4",{id:"par\xe1metros-1"},"Par\xe1metros"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"expand"),", permite expandir instancias y colecciones.")),(0,o.kt)("h4",{id:"ejemplos-1"},"Ejemplos"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"GET /v1/documents/421.json?expand=[document_type,office]")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"GET /v1/documents/421.json?expand=details,payments"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Response /documents/421.json "',title:'"Response',"/documents/421.json":!0,'"':!0},'{\n  "href": "https://api.bsale.cl/v1/documents/421.json",\n  "id": 421,\n  "emissionDate": 1351652400,\n  "expirationDate": 1351652400,\n  "rcofDate": 1351652400,\n  "number": 1,\n  "totalAmount": 5117000,\n  "netAmount": 4300000,\n  "taxAmount": 817000,\n  "exemptAmount": 0,\n  "exportTotalAmount": 0,\n  "exportNetAmount": 0,\n  "exportTaxAmount": 0,\n  "exportExemptAmount": 0,\n  "commissionRate": 0,\n  "commissionNetAmount": 0,\n  "commissionTaxAmount": 0,\n  "commissionTotalAmount": 0,\n  "percentageTaxWithheld": 0,\n  "purchaseTaxAmount": 0,\n  "purchaseTotalAmount": 0,\n  "urlTimbre": null,\n  "ted": null,\n  "urlPublicView": "http://app2.bsale.cl/view/2/f806d6a6ae73?sfd=99",\n  "urlPdf": "http://app2.bsale.cl/view/2/f806d6a6ae73.pdf?sfd=99",\n  "urlPublicViewOriginal": "http://app2.bsale.cl/view/2/f806d6a6ae73",\n  "urlPdfOriginal": "http://app2.bsale.cl/view/2/f806d6a6ae73.pdf",\n  "token": "f806d6a6ae73",\n  "state": 0,\n  "urlXml": null,\n  "address": "San Francisco 402, jj perez 7248",\n  "municipality": "Santiago",\n  "city": "Santiago",\n  "informedSii": 2,\n  "responseMsgSii": null,\n  "document_type": {\n    "href": "https://api.bsale.cl/v1/document_types/4.json",\n    "id": "4"\n  },\n  "client": {\n    "href": "https://api.bsale.cl/v1/clients/7.json",\n    "id": "7"\n  },\n  "office": {\n    "href": "https://api.bsale.cl/v1/offices/2.json",\n    "id": "2"\n  },\n  "user": {\n    "href": "https://api.bsale.cl/v1/users/2.json",\n    "id": "2"\n  },\n  "references": {\n    "href": "https://api.bsale.cl/v1/documents/421/references.json"\n  },\n  "document_taxes": {\n    "href": "https://api.bsale.cl/v1/documents/421/document_taxes.json"\n  },\n  "details": {\n    "href": "https://api.bsale.cl/v1/documents/421/details.json"\n  },\n  "sellers": {\n    "href": "https://api.bsale.cl/v1/documents/421/sellers.json"\n  }\n}\n')),(0,o.kt)("h2",{id:"res\xfamenes"},"Res\xfamenes"),(0,o.kt)("h3",{id:"get-resumen-de-documentos-emitidos"},"GET resumen de documentos emitidos"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"GET ",(0,o.kt)("inlineCode",{parentName:"li"},"/v1/documents/summary.json")," retorna resumen de documentos.")),(0,o.kt)("h4",{id:"par\xe1metros-2"},"Par\xe1metros"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"limit"),", limita la cantidad de items de una respuesta JSON, por defecto el limit es 25, el m\xe1ximo permitido es 50."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"offset"),", permite paginar los items de una respuesta JSON, por defecto el offset es 0."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"fields"),", solo devolver atributos espec\xedficos de un recurso"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"expand"),", permite expandir instancias y colecciones."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"emissiondaterange"),", filtra por rango de fecha de emisi\xf3n."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"generationdaterange"),", filtra por rango de fecha de generaci\xf3n."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"codesii"),", C\xf3digo documento basado en los identificadores del SII, pueden ser varios separados por coma."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"perdocument"),", Boolean (0 o 1) indica si el resultado lo agrupa por documento.")),(0,o.kt)("h4",{id:"ejemplos-2"},"Ejemplos"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"GET /v1/documents.json?limit=10&offset=0")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"GET /v1/documents/summary.json?emissiondaterange=[1404187200,1406779200]")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"GET /v1/documents/summary.json?generationdaterange=[1404187200,1406779200]")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"GET /v1/documents/summary.json?codesii=[33,31]")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"GET /v1/documents/summary.json?perdocument=1")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"GET /v1/documents/summary.json?rcofdaterange=[1627776000,1627862400]&codesii=[39]"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Response /documents/summary.json?codesii=[39]"',title:'"Response',"/documents/summary.json?codesii":'[39]"'},'[\n  {\n    "generationDate": "",\n    "emissionDate": "",\n    "documentTypeName": "Boleta Electr\xf3nica",\n    "codeSii": "39",\n    "month": 7,\n    "year": 2014,\n    "officeId": 2,\n    "officeName": "Los Angeles",\n    "officeCostCenter": "",\n    "count": 1,\n    "totalNetAmount": 2791,\n    "totalTaxAmount": 530,\n    "totalAmount": 3321,\n    "totalExemptAmount": 0,\n    "taxes": [\n      {\n        "taxId": 1,\n        "taxName": "IVA",\n        "taxAmount": 530\n      }\n    ],\n    "details": [\n      {\n        "itemLedgerAccount": "",\n        "totalNetAmount": 2791\n      }\n    ],\n    "documentId": 10383,\n    "documentNumber": 9093\n  },\n  {\n    "generationDate": "",\n    "emissionDate": "",\n    "documentTypeName": "Boleta Electr\xf3nica",\n    "codeSii": "39",\n    "month": 7,\n    "year": 2014,\n    "officeId": 2,\n    "officeName": "Los Angeles",\n    "officeCostCenter": "",\n    "count": 1,\n    "totalNetAmount": 15132,\n    "totalTaxAmount": 2875,\n    "totalAmount": 18007,\n    "totalExemptAmount": 0,\n    "taxes": [\n      {\n        "taxId": 1,\n        "taxName": "IVA",\n        "taxAmount": 2875\n      }\n    ],\n    "details": [\n      {\n        "itemLedgerAccount": "",\n        "totalNetAmount": 15132\n      }\n    ],\n    "documentId": 10384,\n    "documentNumber": 9094\n  }\n]\n')),(0,o.kt)("h3",{id:"get-resumen-de-ventas-boletas-electr\xf3nicas"},"GET resumen de ventas Boletas electr\xf3nicas"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"GET ",(0,o.kt)("inlineCode",{parentName:"li"},"/v1/documents/summary/ticket.json")," retorna resumen de boletas.")),(0,o.kt)("h4",{id:"par\xe1metros-3"},"Par\xe1metros"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"rcofdaterange"),", Filtra por rango de fecha de RCOF")),(0,o.kt)("h4",{id:"ejemplos-3"},"Ejemplos"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"GET /v1/documents/summary/ticket.json?rcofdaterange=[1635724800,1638230400]"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Response /documents/summary/ticket.json?rcofdaterange=[1635724800,1638230400]"',title:'"Response',"/documents/summary/ticket.json?rcofdaterange":'[1635724800,1638230400]"'},'[\n  {\n    "codeSii": "39",\n    "documentTypeName": "BOLETA ELECTR\xd3NICA T",\n    "count": 233,\n    "totalNetAmount": 432340,\n    "totalExemptAmount": 123333,\n    "totalIvaAmount": 324344,\n    "totalAmount": 7787654\n  }\n]\n')),(0,o.kt)("h3",{id:"get-cantidad-de-documentos"},"GET cantidad de documentos"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"GET ",(0,o.kt)("inlineCode",{parentName:"li"},"/v1/documents/count.json")," retorna cantidad de registros.")),(0,o.kt)("h4",{id:"par\xe1metros-4"},"Par\xe1metros"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"state"),", permite filtrar por estado, activos (0) inactivos (1).")),(0,o.kt)("h4",{id:"ejemplos-4"},"Ejemplos"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"GET /v1/documents/count.json?state=0"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Response /documents/count.json?state=0 "',title:'"Response',"/documents/count.json?state":"0",'"':!0},'{\n   "count": 1449\n}\n')),(0,o.kt)("h3",{id:"get-costos-de-una-venta"},"GET costos de una venta"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"GET ",(0,o.kt)("inlineCode",{parentName:"li"},"/v1/documents/costs.json")," retorna los costos asociados a la venta.")),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"Entrega los costos asociados a una venta solo si los productos fueron despachados (",(0,o.kt)("inlineCode",{parentName:"p"},"dispatch=1"),").")),(0,o.kt)("h4",{id:"par\xe1metros-5"},"Par\xe1metros"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"documentid"),", filtra por el id del documento."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"number"),", filtra documentos por el folio."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"codesii"),", filtra documentos por el c\xf3digo tributario.")),(0,o.kt)("h4",{id:"ejemplos-5"},"Ejemplos"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"GET /v1/documents/costs.json?documentid=145071")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"GET /v1/documents/costs.json?codesii=33&number=320"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Response /documents/145071.json "',title:'"Response',"/documents/145071.json":!0,'"':!0},'{\n  "href": "https://api.bsale.cl/v1/documents/145071.json",\n  "id": 145071,\n  "name": "FACTURA ELECTRONICA",\n  "number": 320,\n  "totalCost": 37949,\n  "cost_detail": [\n    {\n      "variant": {\n        "href": "https://api.bsale.cl/v1/variants/6884.json",\n        "id": 6884,\n        "description": "Morado",\n        "code": "DD1009M"\n      },\n      "shipping_detail": {\n        "href": "https://api.bsale.cl/v1/shippings/121576/details/290425.json",\n        "id": 290425,\n        "quantity": 1,\n        "variantStock": 0,\n        "variantCost": 25611,\n        "variantTotalCost": 25611\n      }\n    },\n    {\n      "variant": {\n        "href": "https://api.bsale.cl/v1/variants/11272.json",\n        "id": 11272,\n        "description": "Morado",\n        "code": "CE3703"\n      },\n      "shipping_detail": {\n        "href": "https://api.bsale.cl/v1/shippings/121576/details/290426.json",\n        "id": 290426,\n        "quantity": 1,\n        "variantStock": 0,\n        "variantCost": 4948,\n        "variantTotalCost": 4948\n      }\n    },\n    {\n      "variant": {\n        "href": "https://api.bsale.cl/v1/variants/6949.json",\n        "id": 6949,\n        "description": "Rojo",\n        "code": "HB1026"\n      },\n      "shipping_detail": {\n        "href": "https://api.bsale.cl/v1/shippings/121576/details/290427.json",\n        "id": 290427,\n        "quantity": 2,\n        "variantStock": 15,\n        "variantCost": 3695,\n        "variantTotalCost": 7390\n      }\n    }\n  ]\n}\n')),(0,o.kt)("h2",{id:"detalles"},"Detalles"),(0,o.kt)("h3",{id:"get-detalles-de-un-documento"},"GET detalles de un documento"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"GET ",(0,o.kt)("inlineCode",{parentName:"li"},"/v1/documents/12644/details.json")," retorna todos los detalles de un documento.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Response /documents/4139/details.json"',title:'"Response','/documents/4139/details.json"':!0},'{\n    "href": "https://api.bsale.cl/v1/documents/4139/details.json",\n    "count": 1,\n    "limit": 25,\n    "offset": 0,\n    "items": [\n        {\n            "href": "https://api.bsale.cl/v1/documents/4139/details/6182.json",\n            "id": 6182,\n            "lineNumber": 0,\n            "quantity": 1.0,\n            "netUnitValue": 15285.0,\n            "totalUnitValue": 27500.0,\n            "netAmount": 15285.0,\n            "taxAmount": 12215.0,\n            "totalAmount": 27500.0,\n            "netDiscount": 0.0,\n            "totalDiscount": 0.0,\n            "variant": {\n                "href": "https://api.bsale.cl/v1/variants/8045.json",\n                "id": 8045,\n                "description": "Standard",\n                "code": "1661885024042"\n            },\n            "note": "",\n            "relatedDetailId": 0\n        }\n    ]\n}\n')),(0,o.kt)("h3",{id:"get-un-detalle-de-un-documento"},"GET un detalle de un documento"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"GET ",(0,o.kt)("inlineCode",{parentName:"li"},"/v1/documents/2467/details/3216.json")," retorna un \xfanico detalle.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Response /documents/4139/details/6182.json"',title:'"Response','/documents/4139/details/6182.json"':!0},'{\n    "href": "https://api.bsale.cl/v1/documents/4139/details/6182.json",\n    "id": 6182,\n    "lineNumber": 0,\n    "quantity": 1.0,\n    "netUnitValue": 15285.0,\n    "totalUnitValue": 27500.0,\n    "netAmount": 15285.0,\n    "taxAmount": 12215.0,\n    "totalAmount": 27500.0,\n    "netDiscount": 0.0,\n    "totalDiscount": 0.0,\n    "variant": {\n        "href": "https://api.bsale.cl/v1/variants/8045.json",\n        "id": 8045,\n        "description": "Standard",\n        "code": "1661885024042"\n    },\n    "note": "",\n    "relatedDetailId": 0\n}\n')),(0,o.kt)("h2",{id:"relaciones"},"Relaciones"),(0,o.kt)("h3",{id:"get-referencias-de-un-documento"},"GET referencias de un documento"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"GET ",(0,o.kt)("inlineCode",{parentName:"li"},"/v1/documents/11561/references.json")," retorna referencias del documento.")),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"Retorna s\xf3lo referencias electr\xf3nicas (",(0,o.kt)("strong",{parentName:"p"},"XML"),").")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Response /documents/4139/references.json "',title:'"Response',"/documents/4139/references.json":!0,'"':!0},'{\n  "href": "https://api.bsale.cl/v1/documents/4139/references.json",\n  "count": 2,\n  "limit": 25,\n  "offset": 0,\n  "items": [\n    {\n      "href": "https://api.bsale.cl/v1/documents/4139/references/5.json",\n      "id": 5,\n      "referenceDate": 1407643200,\n      "number": "123",\n      "reason": "Orden de Compra 123",\n      "dte_code": {\n        "href": "https://api.bsale.cl/v1/dte_codes/20.json",\n        "id": "20"\n      }\n    },\n    {\n      "href": "https://api.bsale.cl/v1/documents/4139/references/6.json",\n      "id": 6,\n      "referenceDate": 1407643200,\n      "number": "456",\n      "reason": "Guia despacho 456",\n      "dte_code": {\n        "href": "https://api.bsale.cl/v1/dte_codes/15.json",\n        "id": "15"\n      }\n    }\n  ]\n}\n')),(0,o.kt)("h3",{id:"get-una-referencia-de-un-documento"},"GET una referencia de un documento"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"GET ",(0,o.kt)("inlineCode",{parentName:"li"},"/v1/documents/11561/references/5.json")," retorna una \xfanica referencia.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Response /documents/11561/references/5.json "',title:'"Response',"/documents/11561/references/5.json":!0,'"':!0},'{\n  "href": "https://api.bsale.cl/v1/documents/11561/references/5.json",\n  "id": 5,\n  "referenceDate": 1407643200,\n  "number": "123",\n  "reason": "Orden de Compra 123",\n  "dte_code": {\n    "href": "https://api.bsale.cl/v1/dte_codes/20.json",\n    "id": "20"\n  }\n}\n')),(0,o.kt)("h3",{id:"get-impuestos-de-un-documento"},"GET impuestos de un documento"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"GET ",(0,o.kt)("inlineCode",{parentName:"li"},"/v1/documents/12644/document_taxes.json")," retorna los impuestos asociados al documento.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Response /documents/12644/document_taxes.json "',title:'"Response',"/documents/12644/document_taxes.json":!0,'"':!0},'{\n  "href": "https://api.bsale.cl/v1/documents/12644/document_taxes.json",\n  "count": 1,\n  "limit": 25,\n  "offset": 0,\n  "items": [\n    {\n      "href": "https://api.bsale.cl/v1/documents/12644/document_taxes/12626.json",\n      "id": 12626,\n      "totalAmount": 797,\n      "exemptAmount": 0,\n      "tax": {\n        "href": "https://api.bsale.cl/v1/taxes/1.json",\n        "id": "1"\n      }\n    }\n  ]\n}\n')),(0,o.kt)("h3",{id:"get-un-impuesto-de-un-documento"},"GET un impuesto de un documento"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"GET ",(0,o.kt)("inlineCode",{parentName:"li"},"/v1/documents/12644/document_taxes/12626.json")," retorna un \xfanico impuesto asociado al documento.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Response /documents/12644/document_taxes/12626.json "',title:'"Response',"/documents/12644/document_taxes/12626.json":!0,'"':!0},'{\n  "href": "https://api.bsale.cl/v1/documents/12644/document_taxes/12626.json",\n  "id": 12626,\n  "totalAmount": 797,\n  "exemptAmount": 0,\n  "tax": {\n    "href": "https://api.bsale.cl/v1/taxes/1.json",\n    "id": "1"\n  }\n}\n')),(0,o.kt)("h3",{id:"get-vendedores-de-un-documento"},"GET vendedores de un documento"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"GET ",(0,o.kt)("inlineCode",{parentName:"li"},"/v1/documents/421/sellers.json")," retorna vendedor del documento.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Response /documents/421/sellers.json "',title:'"Response',"/documents/421/sellers.json":!0,'"':!0},'{\n  "href": "https://api.bsale.cl/v1/documents/421/sellers.json",\n  "count": 1,\n  "limit": 25,\n  "offset": 0,\n  "items": [\n    {\n      "href": "https://api.bsale.cl/v1/users/2.json",\n      "id": 2,\n      "firstName": "Vendedor Demo",\n      "lastName": "Bsale"\n    }\n  ]\n}\n')),(0,o.kt)("h3",{id:"get-atributos-dinamicos-de-un-documento"},"GET atributos dinamicos de un documento"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"GET ",(0,o.kt)("inlineCode",{parentName:"li"},"/v1/documents/9682/attributes.json")," ")),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"Retorna los atributos din\xe1micos, ",(0,o.kt)("strong",{parentName:"p"},"no electr\xf3nicos"),". Check ",(0,o.kt)("a",{parentName:"p",href:"#"},"this ",(0,o.kt)("inlineCode",{parentName:"a"},"api")),".")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Response /documents/9682/attributes.json "',title:'"Response',"/documents/9682/attributes.json":!0,'"':!0},'{\n  "href": "https://api.bsale.cl/v1/documents/9682/attributes.json",\n  "count": 3,\n  "limit": 25,\n  "offset": 0,\n  "items": [\n    {\n      "href": "https://api.bsale.cl/v1/dynamic_attributes/70.json",\n      "id": 70,\n      "name": "DETALLE DE PAGO",\n      "value": ""\n    },\n    {\n      "href": "https://api.bsale.cl/v1/dynamic_attributes/90.json",\n      "id": 90,\n      "name": "Tipo Descuento",\n      "value": ""\n    },\n    {\n      "href": "https://api.bsale.cl/v1/dynamic_attributes/92.json",\n      "id": 92,\n      "name": "SubTotal Venta",\n      "value": ""\n    }\n  ]\n}\n')),(0,o.kt)("h2",{id:"post-un-documento"},"POST un documento"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"POST ",(0,o.kt)("inlineCode",{parentName:"li"},"/v1/documents.json"))),(0,o.kt)("p",null,"Para crear un documento de venta ya sea electr\xf3nico (Factura y Boleta Electr\xf3nica) o no (Nota de venta, Factura y Boleta manual), se debe enviar un JSON con la siguiente estructura:"),(0,o.kt)("h3",{id:"referencias-y-fechas"},"Referencias y fechas"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "documentTypeId": 8,\n  "officeId": 1,\n  "priceListId": 18,\n  "emissionDate": 1407715200,\n  "expirationDate": 1407715200,\n  "declareSii": 1\n}\n')),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"documentTypeId"),", Id del tipo de documento que indicara si es factura, boleta, nota de venta etc. (Integer)."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"officeId"),", Id de la sucursal donde se emite el documento, si no es especificada el documento quedara asignado a la sucursal por defecto del sistema (Integer)."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"priceListId"),", Id de la lista de precio utilizada por el documento, si no es especificada se utilizara la lista de precio por defecto de la sucursal (Integer)."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"emissionDate"),", Fecha de emisi\xf3n del documento (Integer) (no se debe aplicar zona horaria, solo considerar la fecha)."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"expirationDate"),", Fecha vencimiento del documento (Integer) (no se debe aplicar zona horaria, solo considerar la fecha)."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"declareSii"),", Si se desea declarar el documento al Servicio de impuestos internos se env\xeda 1, en caso contrario un 0 (Boolean).")),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"Opcionalmente puedes utilizar el par\xe1metro ",(0,o.kt)("strong",{parentName:"p"},"codeSii")," en vez de ",(0,o.kt)("strong",{parentName:"p"},"documentTypeId")," si conoces el c\xf3digo tributario del documento.")),(0,o.kt)("p",null,"Si se necesita generar una ",(0,o.kt)("strong",{parentName:"p"},"liquidaci\xf3n de factura"),", se debe enviar el porcentaje de la comisi\xf3n (",(0,o.kt)("inlineCode",{parentName:"p"},"commissionRate"),") junto al tipo de documento que se desea liquidar (",(0,o.kt)("inlineCode",{parentName:"p"},"commissionCodeSii"),")."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="POST /documents.json "',title:'"POST',"/documents.json":!0,'"':!0},'{\n  "codeSii": 39,\n  "officeId": 1,\n  "priceListId": 18,\n  "emissionDate": 1407715200,\n  "expirationDate": 1407715200,\n  "declareSii": 1,\n  "commissionRate": 20,\n  "commissionCodeSii": 33\n}\n')),(0,o.kt)("p",null,"Si se necesita generar una ",(0,o.kt)("strong",{parentName:"p"},"factura de compra"),", puedes enviar el porcentaje de impuesto que deseas retener (",(0,o.kt)("inlineCode",{parentName:"p"},"percentageTaxWithheld"),") en este caso es 35%."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="POST /documents.json "',title:'"POST',"/documents.json":!0,'"':!0},'{\n  "codeSii": 46,\n  "officeId": 1,\n  "priceListId": 18,\n  "emissionDate": 1407715200,\n  "expirationDate": 1407715200,\n  "declareSii": 1,\n  "percentageTaxWithheld": 35\n}\n')),(0,o.kt)("h3",{id:"vendedor"},"Vendedor"),(0,o.kt)("p",null,"Es posible que necesites asociar un vendedor diferente al que hace la petici\xf3n para crear el documento, para eso debes enviar el atributo ",(0,o.kt)("inlineCode",{parentName:"p"},"sellerId"),", con el ",(0,o.kt)("inlineCode",{parentName:"p"},"id")," vendedor (usuario) en Bsale."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n   "sellerId": 5\n}\n')),(0,o.kt)("h3",{id:"descuento-stock"},"Descuento stock"),(0,o.kt)("p",null,"Puedes manejar si el documento, resta o no stock de tu inventario.\nSi vas a entregar inmediatamente tus productos puedes enviar el atributos dispatch en 1 el cual despacha y rebaja el stock de los productos."),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"Esto funcionara siempre y cuando el producto tenga stock en la sucursal indicada.\nNo funciona con el env\xedo de glosas (",(0,o.kt)("inlineCode",{parentName:"p"},"comment"),").")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n   "dispatch": 1\n}\n')),(0,o.kt)("h3",{id:"renovaciones-en-nota-de-venta"},"Renovaciones en nota de venta"),(0,o.kt)("p",null,"Para documentos pre-venta, es posible que desees facturar de forma recurrente, puedes enviar una renovaci\xf3n a la pre-venta para que en cierta fecha est\xe9 disponible a facturar. (Ver m\xe1s)"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n   "renovationId": 1,\n   "renovationDate": 1585160716\n}\n')),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"renovationId"),", Identificador del evento de renovaci\xf3n."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"renovationDate"),", Fecha de la renovaci\xf3n. ")),(0,o.kt)("h3",{id:"cliente-del-documento"},"Cliente del documento"),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"En algunos documentos no es necesario agregar el cliente como en el caso de la boleta, sin embargo, para la ",(0,o.kt)("strong",{parentName:"p"},"factura es obligatorio"),".")),(0,o.kt)("h4",{id:"cliente"},"Cliente"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "client": {\n    "code": "98765432-1",\n    "city": "Capital del Oeste",\n    "company": "Capsule Corp",\n    "municipality": "Capital del Oeste",\n    "activity": "Development and research",\n    "address": "Hoi Poi #750",\n    "email": "dr@brief.cl",\n    "companyOrPerson": 1\n  }\n}\n')),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"code"),", Rut del cliente (String)."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"city"),", Ciudad del cliente  (String)."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"company"),", Raz\xf3n social del cliente (String)."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"municipality"),", Comuna del cliente (String)."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"activity"),", Giro del cliente (String)."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"address"),", Direcci\xf3n del cliente (String). "),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"email"),", indica el correo electronico del cliente  (String)."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"companyOrPerson"),", indica si el cliente es persona natural o empresa (0)Persona o (1)Empresa (Boolean)."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"firstName"),", Nombre de persona (String)."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"lastName"),", Apellido de persona (String).")),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"Opcionalmente puedes utilizar el par\xe1metro ",(0,o.kt)("inlineCode",{parentName:"p"},"clientId")," si el cliente ya esta creado en Bsale y conoces su identificador."),(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n   "clientId": 24\n}\n'))),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"Si tienes una direcci\xf3n ya ingresada en Bsale para ese cliente, puedes enviar el id de esa direcci\xf3n en el par\xe1metro ",(0,o.kt)("inlineCode",{parentName:"p"},"addressId"),"."),(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "clientId": 24,\n  "addressId": 8\n}\n'))),(0,o.kt)("p",null,"Si necesitas que Bsale ",(0,o.kt)("strong",{parentName:"p"},"envi\xe9 el documento al correo del cliente")," puedes agregar a la ra\xedz del JSON el atributo ",(0,o.kt)("inlineCode",{parentName:"p"},"sendEmail"),", es decir, fuera del nodo client:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "client": {\n    "code": "98765432-1",\n    "city": "Capital del Oeste",\n    "company": "Capsule Corp",\n    "municipality": "Capital del Oeste",\n    "activity": "Development and research",\n    "address": "Hoi Poi #750",\n    "email": "dr@brief.cl",\n    "companyOrPerson": 1\n  },\n  "sendEmail": 1\n}\n')),(0,o.kt)("h4",{id:"cliente-extranjero"},"Cliente extranjero"),(0,o.kt)("p",null,"Si el cliente es extranjero se debe enviar el atributo ",(0,o.kt)("inlineCode",{parentName:"p"},"isForeigner")," en ",(0,o.kt)("strong",{parentName:"p"},"1"),", por defecto este valor es 0, esto es necesario para los documentos de exportaci\xf3n."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "client": {\n    "city": "Hawai",\n    "company": "Mountain Apple Company Inc",\n    "municipality": "Honolulu",\n    "activity": "Musician",\n    "address": "izhawaii dot com #100 street",\n    "email": "Israel@Kamakawiwo.ole",\n    "isForeigner": 1\n  }\n}\n')),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"Si env\xedas ",(0,o.kt)("inlineCode",{parentName:"p"},"isForeigner")," con valor 1, Bsale generar\xe1 un rut ",(0,o.kt)("strong",{parentName:"p"},"55555555-5")," por defecto. Si necesitas que la representaci\xf3n visual del documento indique un DNI, NIT, NIF etc Puedes enviar el adicionalmente el ",(0,o.kt)("inlineCode",{parentName:"p"},"code")," de cliente con su valor.")),(0,o.kt)("h3",{id:"detalles-1"},"Detalles"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n   "details": [\n       {\n           "variantId": 157,\n           "netUnitValue": 53975,\n           "quantity": 1,\n           "taxId": "[1]",\n           "discount": 50,\n       }\n   ]\n}\n')),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"variantId"),", Id de la variante que indicara cual variante es la que se esta vendiendo de la variante (Integer)."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"code"),", De forma alternativa al Id, se puede utilizar el SKU de la variante  (String)."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"barCode"),", De forma alternativa al Id, se puede utilizar el c\xf3digo de barras de la variante (String)."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"netUnitValue"),", Valor unitario neto de la variante, este valor es sin impuestos (Float)."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"quantity"),", Cantidad de la variante que se esta vendiendo (Integer)."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"taxId"),', Arreglo de identificadores de los impuestos a utilizar, estos tienen que ir dentro de "[]"  (String).'),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"comment"),", Descripci\xf3n breve de la variante  (String)."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"discount"),", Porcentaje del descuento si se desea aplicar uno (Float).")),(0,o.kt)("h4",{id:"con-control-de-stock"},"Con control de stock"),(0,o.kt)("p",null,"En el caso de ",(0,o.kt)("strong",{parentName:"p"},"manejar tu stock con Bsale"),", el detalle tendr\xeda una estructura similar a:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n   "details": [\n       {\n           "code": 157,\n           "netUnitValue": 53975,\n           "quantity": 1\n       }\n   ]\n}\n')),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"Si controlas stock, puedes usar ",(0,o.kt)("inlineCode",{parentName:"p"},"code")," o ",(0,o.kt)("inlineCode",{parentName:"p"},"variantId")," o ",(0,o.kt)("inlineCode",{parentName:"p"},"barCode")," para referenciar a tu producto existente en Bsale.")),(0,o.kt)("h4",{id:"sin-control-de-stock"},"Sin control de stock"),(0,o.kt)("p",null,"En el caso de solo necesitar ",(0,o.kt)("strong",{parentName:"p"},"declarar documentos en el SII con Bsale"),", el detalle tendr\xeda una estructura similar a:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n   "details": [\n       {\n           "comment": "El nombre del producto que se muestra en la l\xednea del documento",\n           "netUnitValue": 53975,\n           "quantity": 1,\n           "taxId": "[1]"\n       }\n   ]\n}\n')),(0,o.kt)("h3",{id:"impuestos"},"Impuestos"),(0,o.kt)("admonition",{type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"Es ",(0,o.kt)("strong",{parentName:"p"},"muy importante")," que se env\xeden los impuestos por cada detalle, de lo contrario el detalle del documento saldr\xe1 exento.")),(0,o.kt)("h4",{id:"referencia-por-id"},"Referencia por id"),(0,o.kt)("p",null,"Puedes usar el arreglo ",(0,o.kt)("inlineCode",{parentName:"p"},"taxId")," para referenciar los id's de impuestos configurados en Bsale"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n   "details": [\n       {\n           "comment": "El nombre del producto que se muestra en la l\xednea del documento",\n           "netUnitValue": 53975,\n           "quantity": 1,\n           "taxId": "[1,2]",\n           "discount": 0,\n       }\n   ]\n}\n')),(0,o.kt)("h4",{id:"referencia-por-c\xf3digo-tributario"},"Referencia por c\xf3digo tributario"),(0,o.kt)("p",null,"Tambi\xe9n es posible especificar los impuestos, enviando su c\xf3digo tributario y el porcentaje que se le quiere aplicar al producto. Dentro del arreglo ",(0,o.kt)("inlineCode",{parentName:"p"},"taxes"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "details": [\n    {\n      "netUnitValue": 53975,\n      "quantity": 1,\n      "taxes": [\n        {\n          "code": 14,\n          "percentage": 19\n        },\n        {\n          "code": 35,\n          "percentage": 46.9\n        }\n      ],\n      "comment": "el nombre del producto que voy a vender",\n      "discount": 5\n    }\n  ]\n}\n')),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"El ",(0,o.kt)("inlineCode",{parentName:"p"},"percentage")," enviado, actualizar\xe1 el porcentaje usado en la configuraci\xf3n de Bsale.")),(0,o.kt)("h3",{id:"a-partir-de-existente"},"A partir de existente"),(0,o.kt)("p",null,"Si se desea generar un documento a partir de otro, se debe enviar el identificador del detalle del documento original:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "details": [\n    {\n      "detailId": 1050,\n      "quantity": 1\n    }\n  ]\n}\n')),(0,o.kt)("h3",{id:"forma-de-pago-opcional"},"Forma de pago (opcional)"),(0,o.kt)("p",null,"Se pueden especificar los pagos asociados al documento, se requiere un nodo similar a:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "payments": [\n    {\n      "paymentTypeId": 1,\n      "amount": 70000,\n      "recordDate": 1407715200\n    }\n  ]\n}\n')),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"paymentTypeId"),", Id de la forma de pago utilizada en el pago del documento (Integer)."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"amount"),", monto del pago del documento (Integer)."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"recordDate"),", Fecha en la cual se realizo el pago del documento, se env\xeda en formato GMT (Integer).")),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"En caso de no enviar Bsale detectara la forma de pago por defecto y asignara el monto total del documento a esa forma de pago.")),(0,o.kt)("h3",{id:"referencias-electr\xf3nicas-opcional"},"Referencias electr\xf3nicas (opcional)"),(0,o.kt)("p",null,"Se pueden enviar referencias par aun documento como ordenes de compra, gu\xedas de despacho etc. Se requiere un nodo similar a:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "references": [\n    {\n      "number": "123",\n      "referenceDate": 1407715200,\n      "reason": "Orden de Compra 123",\n      "codeSii": 801\n    }\n  ]\n}\n')),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"number"),", Folio del documento de referencia (String)."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"referenceDate"),", Fecha del documento de referencia (Integer)."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"reason"),", Raz\xf3n del documento (String)."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"codeSii"),", C\xf3digo tributario del documento de referencia (Integer).")),(0,o.kt)("h3",{id:"atributos-din\xe1micos-opcional"},"Atributos din\xe1micos (opcional)"),(0,o.kt)("p",null,"En el caso de necesitar agregar atributos adicionales al documento, se necesita un nodo similar a:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "dynamicAttributes": [\n    {\n      "description": "098",\n      "dynamicAttributeId": 17\n    },\n    {\n      "description": "nombre",\n      "dynamicAttributeId": 18\n    }\n  ]\n}\n')),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"description"),", Valor del atributo (String)."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"dynamicAttributeId"),", Id de la atributo din\xe1mico (Integer).")),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"Para usar atributos adicionales deben primero deben crearse y referenciar su id.")),(0,o.kt)("h3",{id:"id-externo-opcional"},"Id externo (opcional)"),(0,o.kt)("p",null,"Se pueden enviar un id de referencia propio de su sistema para evitar duplicidad de emisi\xf3n. La API buscar\xe1 por el id al hacer POST de un documento, y si ya existe retornar\xe1 el documento que se gener\xf3 previamente en vez de generar uno nuevo."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n   "salesId": "AAA000012"\n}\n')),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"salesId"),", ID de referencia (String 255).")),(0,o.kt)("h3",{id:"ejemplo-json"},"Ejemplo JSON"),(0,o.kt)("h4",{id:"env\xedo"},"Env\xedo"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="POST /documents.json "',title:'"POST',"/documents.json":!0,'"':!0},'{\n  "documentTypeId": 8,\n  "officeId": 1,\n  "emissionDate": 1407715200,\n  "expirationDate": 1407715200,\n  "declareSii": 1,\n  "priceListId": 18,\n  "client": {\n    "code": "12345678-9",\n    "city": "Puerto Varas",\n    "company": "Imaginex",\n    "municipality": "comuna",\n    "activity": "giro",\n    "address": "direccion"\n  },\n  "details": [\n    {\n      "variantId": 1,\n      "netUnitValue": 53975,\n      "quantity": 1,\n      "taxId": "[1,2]",\n      "comment": "Producto 1",\n      "discount": 0\n    }\n  ],\n  "payments": [\n    {\n      "paymentTypeId": 1,\n      "amount": 70000,\n      "recordDate": 1407715200\n    }\n  ],\n  "references": [\n    {\n      "number": 123,\n      "referenceDate": 1407715200,\n      "reason": "Orden de Compra 123",\n      "codeSii": 801\n    }\n  ],\n  "dynamicAttributes": [\n    {\n      "description": "098 codigo servicio",\n      "dynamicAttributeId": 17\n    },\n    {\n      "description": "Observacion nomal, sin anotaciones",\n      "dynamicAttributeId": 18\n    }\n  ]\n}\n')),(0,o.kt)("h4",{id:"respuesta"},"Respuesta"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="201 Response /documents.json "',title:'"201',Response:!0,"/documents.json":!0,'"':!0},'{\n  "urlTimbre": "http://s3.amazonaws.com/bsale/timbres/T33_F933.png",\n  "client": {\n    "href": "https://api.bsale.cl/v1/clients/211.json",\n    "id": "211"\n  },\n  "address": "direccion valida",\n  "token": "a1a3291afd78",\n  "userId": 1,\n  "exemptAmount": 0,\n  "office": {\n    "href": "https://api.bsale.cl/v1/offices/1.json",\n    "id": "1"\n  },\n  "urlXml": " ",\n  "expirationDate": 1407643200,\n  "municipality": "puerto montt",\n  "netAmount": 53975,\n  "totalAmount": 74486,\n  "document_type": {\n    "href": "https://api.bsale.cl/v1/document_types/8.json",\n    "id": "8"\n  },\n  "taxAmount": 20511,\n  "number": 933,\n  "href": "https://api.bsale.cl/v1/documents/11561.json",\n  "emissionDate": 1407643200,\n  "urlPdf": "http://app.bsale.cl/view/339/a1a3291afd78.pdf",\n  "id": 11561,\n  "references": {\n    "href": "https://api.bsale.cl/v1/documents/11561/references.json"\n  },\n  "city": "puerto montt",\n  "state": 0\n}\n')),(0,o.kt)("h2",{id:"delete-un-documento"},"DELETE un documento"),(0,o.kt)("p",null,"DELETE ",(0,o.kt)("inlineCode",{parentName:"p"},"/v1/documents/30.json?officeId=2"),", elimina un documento no electr\xf3nico"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Se debe enviar la sucursal en la cual se eliminara el documento")))}u.isMDXComponent=!0}}]);