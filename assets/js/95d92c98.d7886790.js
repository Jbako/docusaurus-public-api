"use strict";(self.webpackChunkdocusaurus_public_api=self.webpackChunkdocusaurus_public_api||[]).push([[5795],{3905:(e,n,a)=>{a.d(n,{Zo:()=>p,kt:()=>m});var t=a(7294);function i(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function o(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function r(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?o(Object(a),!0).forEach((function(n){i(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function s(e,n){if(null==e)return{};var a,t,i=function(e,n){if(null==e)return{};var a,t,i={},o=Object.keys(e);for(t=0;t<o.length;t++)a=o[t],n.indexOf(a)>=0||(i[a]=e[a]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)a=o[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var c=t.createContext({}),l=function(e){var n=t.useContext(c),a=n;return e&&(a="function"==typeof e?e(n):r(r({},n),e)),a},p=function(e){var n=l(e.components);return t.createElement(c.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},d=t.forwardRef((function(e,n){var a=e.components,i=e.mdxType,o=e.originalType,c=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=l(a),m=i,k=d["".concat(c,".").concat(m)]||d[m]||u[m]||o;return a?t.createElement(k,r(r({ref:n},p),{},{components:a})):t.createElement(k,r({ref:n},p))}));function m(e,n){var a=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var o=a.length,r=new Array(o);r[0]=d;var s={};for(var c in n)hasOwnProperty.call(n,c)&&(s[c]=n[c]);s.originalType=e,s.mdxType="string"==typeof e?e:i,r[1]=s;for(var l=2;l<o;l++)r[l]=a[l];return t.createElement.apply(null,r)}return t.createElement.apply(null,a)}d.displayName="MDXCreateElement"},8390:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>l});var t=a(7462),i=(a(7294),a(3905));const o={sidebar_position:25,title:"Webhooks",description:"Servicio de notificaciones de productos y servicios",slug:"/productos-y-servicios/webhooks",tags:["webhooks"]},r="Webhooks productos",s={unversionedId:"Productos y Servicios/Webhooks relacionado",id:"version-CL/Productos y Servicios/Webhooks relacionado",title:"Webhooks",description:"Servicio de notificaciones de productos y servicios",source:"@site/versioned_docs/version-CL/Productos y Servicios/Webhooks relacionado.md",sourceDirName:"Productos y Servicios",slug:"/productos-y-servicios/webhooks",permalink:"/docusaurus-public-api/CL/productos-y-servicios/webhooks",draft:!1,tags:[{label:"webhooks",permalink:"/docusaurus-public-api/CL/tags/webhooks"}],version:"CL",sidebarPosition:25,frontMatter:{sidebar_position:25,title:"Webhooks",description:"Servicio de notificaciones de productos y servicios",slug:"/productos-y-servicios/webhooks",tags:["webhooks"]},sidebar:"tutorialSidebar",previous:{title:"Listas de precio",permalink:"/docusaurus-public-api/CL/listas-de-precio"},next:{title:"Clientes",permalink:"/docusaurus-public-api/CL/clientes"}},c={},l=[{value:"Notificaci\xf3n productos",id:"notificaci\xf3n-productos",level:2},{value:"Esructura JSON",id:"esructura-json",level:3},{value:"Par\xe1metros",id:"par\xe1metros",level:3},{value:"Notificaci\xf3n variantes",id:"notificaci\xf3n-variantes",level:2},{value:"Esructura JSON",id:"esructura-json-1",level:3},{value:"Par\xe1metros",id:"par\xe1metros-1",level:3},{value:"Notificaci\xf3n de precios",id:"notificaci\xf3n-de-precios",level:2},{value:"Esructura JSON",id:"esructura-json-2",level:3},{value:"Par\xe1metros",id:"par\xe1metros-2",level:3},{value:"Notificaci\xf3n de stock",id:"notificaci\xf3n-de-stock",level:2},{value:"Esructura JSON",id:"esructura-json-3",level:3},{value:"Par\xe1metros",id:"par\xe1metros-3",level:3}],p={toc:l};function u(e){let{components:n,...a}=e;return(0,i.kt)("wrapper",(0,t.Z)({},p,a,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"webhooks-productos"},"Webhooks productos"),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Para consumir los recursos notificados, se debe usar ",(0,i.kt)("inlineCode",{parentName:"p"},"https://api.bsale.io")," como ",(0,i.kt)("strong",{parentName:"p"},"url base"))),(0,i.kt)("h2",{id:"notificaci\xf3n-productos"},"Notificaci\xf3n productos"),(0,i.kt)("h3",{id:"esructura-json"},"Esructura JSON"),(0,i.kt)("p",null,"Cada vez que en Bsale se ejecuta una acci\xf3n sobre la informaci\xf3n asociada a un producto, recibir\xe1s una notificaci\xf3n. En el caso en el que se cree un producto recibir\xe1s el siguiente ",(0,i.kt)("inlineCode",{parentName:"p"},"JSON")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "cpnId": 2,\n  "resource": "/v2/products/952.json",\n  "resourceId": "952",\n  "topic": "product",\n  "action": "post",\n  "send": 1503500856\n}\n')),(0,i.kt)("p",null,"En el caso que en bsale se haga una actualizaci\xf3n de la informaci\xf3n de un producto, recibir\xe1s:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "cpnId": 2,\n  "resource": "/v2/products/952.json",\n  "resourceId": "952",\n  "topic": "product",\n  "action": "put",\n  "send": 1503500856\n}\n')),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"Es importante que tengas presente que no existir\xe1n notificaciones asociadas a acciones del tipo ",(0,i.kt)("inlineCode",{parentName:"p"},"DELETE")," ya que en Bsale no es posible borrar un producto, s\xf3lo se desactiva, proceso que es informado mediante una notificaci\xf3n ",(0,i.kt)("inlineCode",{parentName:"p"},"PUT"),".")),(0,i.kt)("h3",{id:"par\xe1metros"},"Par\xe1metros"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"cpnId"),", Identificador de la instancia en la cual se gener\xf3 la acci\xf3n (Empresa)"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"resource"),", Indicar\xe1 donde puedes obtener el detalle del recurso que se notific\xf3"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"resourceId"),", Identificador \xfanico de producto"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"topic"),", Informaci\xf3n respecto del tipo de recurso modificado, en este caso un producto."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"action"),", Identifica el tipo de acci\xf3n en este caso son posible s\xf3lo acciones ",(0,i.kt)("inlineCode",{parentName:"li"},"POST")," y ",(0,i.kt)("inlineCode",{parentName:"li"},"PUT"))),(0,i.kt)("h2",{id:"notificaci\xf3n-variantes"},"Notificaci\xf3n variantes"),(0,i.kt)("h3",{id:"esructura-json-1"},"Esructura JSON"),(0,i.kt)("p",null,"Cada vez que en Bsale se ejecuta una acci\xf3n sobre la informaci\xf3n asociada a una variante, recibir\xe1s una notificaci\xf3n. En el caso en el que se cree ua variante recibir\xe1s el siguiente ",(0,i.kt)("inlineCode",{parentName:"p"},"JSON")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "cpnId": 2,\n  "resource": "/v2/variants/7079.json",\n  "resourceId": "7079",\n  "topic": "variant",\n  "action": "post",\n  "send": 1503500856\n}\n')),(0,i.kt)("p",null,"En el caso que en bsale se haga una actualizaci\xf3n de la informaci\xf3n de una variante , recibir\xe1s:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "cpnId": 2,\n  "resource": "/v2/variants/7079.json",\n  "resourceId": "7079",\n  "topic": "variant",\n  "action": "put",\n  "send": 1503500856\n}\n')),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"Es importante que tengas presente que no existir\xe1n notificaciones asociadas a acciones del tipo ",(0,i.kt)("inlineCode",{parentName:"p"},"DELETE")," ya que en Bsale no es posible borrar una variante, s\xf3lo se desactiva, proceso que es informado mediante una notificaci\xf3n ",(0,i.kt)("inlineCode",{parentName:"p"},"PUT"),".")),(0,i.kt)("h3",{id:"par\xe1metros-1"},"Par\xe1metros"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"cpnId"),", Identificador de la instancia en la cual se gener\xf3 la acci\xf3n (Empresa)"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"resource"),", Indicar\xe1 donde puedes obtener el detalle del recurso que se notific\xf3"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"resourceId"),", Identificador \xfanico de la variante"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"topic"),", Informaci\xf3n respecto del tipo de recurso modificado, en este caso variant."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"action"),", Identifica el tipo de acci\xf3n en este caso son posible s\xf3lo acciones ",(0,i.kt)("inlineCode",{parentName:"li"},"POST")," y ",(0,i.kt)("inlineCode",{parentName:"li"},"PUT"))),(0,i.kt)("h2",{id:"notificaci\xf3n-de-precios"},"Notificaci\xf3n de precios"),(0,i.kt)("h3",{id:"esructura-json-2"},"Esructura JSON"),(0,i.kt)("p",null,"Cada vez que en Bsale se ejecuta una acci\xf3n sobre la informaci\xf3n asociada a la modificaci\xf3n del precio de una variante, recibir\xe1s una notificaci\xf3n. Es muy importante destacar que en este caso ",(0,i.kt)("strong",{parentName:"p"},"s\xf3lo existen notificaciones de actualizaciones de precio"),", por lo que la \xfanica acci\xf3n notificada ser\xe1 ",(0,i.kt)("inlineCode",{parentName:"p"},"PUT")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "cpnId": 2,\n  "resource": "/v2/price_lists/2/details.json?variant=7079",\n  "resourceId": "7079",\n  "topic": "price",\n  "action": "put",\n  "priceListId": "2",\n  "send": 1503500856\n}\n')),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"Se debe tener presente que bsale maneja los precios en listas de precio, es decir una misma variante puede tener diferentes precios.")),(0,i.kt)("h3",{id:"par\xe1metros-2"},"Par\xe1metros"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"cpnId"),", Identificador de la instancia en la cual se gener\xf3 la acci\xf3n (Empresa)"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"resource"),", Indicar\xe1 donde puedes obtener el detalle del recurso que se notific\xf3"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"resourceId"),", Identificador \xfanico de la variante"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"topic"),", Informaci\xf3n respecto del tipo de recurso modificado, en este caso ",(0,i.kt)("inlineCode",{parentName:"li"},"price"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"action"),", Identifica el tipo de acci\xf3n en este caso son posible s\xf3lo acciones ",(0,i.kt)("inlineCode",{parentName:"li"},"POST")," y ",(0,i.kt)("inlineCode",{parentName:"li"},"PUT")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"priceListId"),", identificador de la lista de precios que fue modificada")),(0,i.kt)("h2",{id:"notificaci\xf3n-de-stock"},"Notificaci\xf3n de stock"),(0,i.kt)("h3",{id:"esructura-json-3"},"Esructura JSON"),(0,i.kt)("p",null,"Cada vez que en Bsale se ejecuta una acci\xf3n sobre la informaci\xf3n asociada al stock de una variante, recibir\xe1s una notificaci\xf3n. Es muy importante destacar que en este caso s\xf3lo existen notificaciones de ",(0,i.kt)("strong",{parentName:"p"},"actualizaciones de Stock"),", por lo que la \xfanica acci\xf3n notificada ser\xe1 ",(0,i.kt)("inlineCode",{parentName:"p"},"PUT")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "cpnId": 2,\n  "resource": "/v2/stocks.json?variant=7079&office=1",\n  "resourceId": "7079",\n  "topic": "stock",\n  "action": "put",\n  "officeId": "1",\n  "send": 1503500856\n}\n')),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"Es importante que tengas presente que estas notificaciones representan movimientos de entradas y salidas de stock, ya sea por ",(0,i.kt)("strong",{parentName:"p"},"recepci\xf3n")," de productos, ",(0,i.kt)("strong",{parentName:"p"},"tomas de inventario"),", ",(0,i.kt)("strong",{parentName:"p"},"consumos")," o ",(0,i.kt)("strong",{parentName:"p"},"despachos"),"."),(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},"Se debe complementar con la lectura de ","[Webhooks de documentos]"))),(0,i.kt)("h3",{id:"par\xe1metros-3"},"Par\xe1metros"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"cpnId"),", Identificador de la instancia en la cual se gener\xf3 la acci\xf3n (Empresa)"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"resource"),", Indicar\xe1 donde puedes obtener el detalle del recurso que se notific\xf3"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"resourceId"),", Identificador \xfanico de la variante"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"topic"),", Informaci\xf3n respecto del tipo de recurso modificado, en este caso ",(0,i.kt)("inlineCode",{parentName:"li"},"stock"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"action"),", Identifica el tipo de acci\xf3n en este caso son posible s\xf3lo acciones ",(0,i.kt)("inlineCode",{parentName:"li"},"PUT")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"officeId"),", identificador de la sucursal en la cual se gener\xf3 la modificaci\xf3n del stock")))}u.isMDXComponent=!0}}]);